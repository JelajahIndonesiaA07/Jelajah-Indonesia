{% extends "base.html" %}
{% load static %}

{% block title %}
Cek Hasil Pemeriksaan Tes Covid-19{% endblock title %}
{% block meta %}
{% endblock meta %}

{% block content %}
<link rel="stylesheet" href="{% static 'tempat_wisata/tempat_wisata.css' %}">

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<section>
<title>Rekomendasi Tempat Wisata</title>
<body>
    <section>
        <div class="container">
            <h1 class="text-center" style="margin-top: 100px;">Lokasi Wisata</h1>
        </div>
        <div class="container text-center">
            <form action="" method="POST">
                {% csrf_token %}
                <div class="d-flex p-2 justify-content-center">
                    <input oninput="this.setCustomValidity('')" oninvalid="this.setCustomValidity('Try Jakarta, Bali, Yogyakarta')" type="text" name="prov" id="testSearch" class="form-control" style="width: 500px;" placeholder="Masukan lokasi provinsi..." required>
                </div>
                <input type="submit" value="Reset" name="reset_button" class="btn btn-primary" style="border: none;background-color: #000000; color: rgb(255, 255, 255); margin-top: 10px; margin-left: 5px" placeholder="0">
            </form>
        </div>
        <div id="data" class="container">
            <div>
                <div  class="row row-2 row-cols-md-3 g-4 col justify-content-center">
                    {% for wisata in data %}
                    <ul>
                        <div class="card" style="margin: 10px; padding: 0;">
                            <div class="card-header card-title">
                                <h4 class="card-title">{{wisata.nama}}</h4>
                            </div>
                            <div id="my_card" class="card-body">
                                <p>Nama: {{wisata.nama}}</p>
                                <p></p>Provinsi: {{wisata.provinsi}}</p>
                                <p>Alamat: {{wisata.alamat}}</p>
                                <p>Deskripsi: {{wisata.deskripsi}}</p>
                                <p id="prov" hidden> {{wisata.provinsi}}</p>
                            </div>
                        </div>
                    </ul>
                    {%endfor%}
                </div>
            </div>
        </div>
        <div style="margin-bottom: 30px;"></div>
    </section>

</body>
<script>
    $("#testSearch").on("keyup", function()
    {
        var value=$(this).val();
        $("div ul").each(function(records)
        {
            var id=$(this).find("#prov:first").text();
            if(id.indexOf(value) != 0 && id.toLowerCase().indexOf(value.toLowerCase())<0)
            {
                $(this).hide();
            }
            else                
            {
                $(this).show();
            }
        });
    });
</script>

</section>
{% endblock content %}
